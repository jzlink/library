## demarcation: newline, space, space, dash, space
# attributes:
# display	= name to be displayed on site for humans
# select	= sql select statement
# from		= sql FROM clause
# type		= data type string|date|int
# editable	= can the element be edited binary T|F
# foreign_table	= table that foreign key is from. used to identfy lookup fields

#YAML

book_id:
  - select: book.book_id
    from: book
    editable: F
    type: int 
    display: BookId

title: 
  - select: title
    from: book
    type: string 
    editable: T
    display: Title

notes:
  - select: notes
    from: book
    type: string 
    editable: T
    display: Notes

published:
  - select: published
    from: book
    type: int
    editable: T
    display: published

type:
  - select: type
    from: type
    type: string 
    editable: F
    display: Type

type_id:
  - select: type_id
    from: book
    type: int
    editable: T
    foreign_table: type

series:
  - select: concat(series, ' No. ', series_num)
    from: series 
    display: Series
    editable: F

series_name: 
  - select: series
    from: series
    type: string 
    editable: T
    display: Series

series_num:
  - select: series_num
    from: book
    type: int 
    editable: T
    display: Series No.

read_status:
  - select: read_status.status
    from: read_status
    type: string
    editable: F
    display: Status

read_status_id:
  - select: read_status_id
    from: book
    type: int
    editable: T
    foreign_table: read_status

ownership:
  - select: owner_status.status
    from: owner_status
    type: string
    editable: F
    display: Ownership

owner_status:
  - select: owner_status_id
    from: book
    type: int
    editable: T
    foreign_table: owner_status

date:
  - select: group_concat(distinct when_read separator ' & ')
    from: when_read
    type: date
    editable: F
    display: Date

when_read:
  - select: when_read
    from: when_read
    type: date
    editable: T
    display: Date
    foreign_table: book
    
author:
  - select: >
            group_concat(distinct concat(last_name, ', ', first_name)
            order by last_name separator ' & ') 
    from: author
    type: string 
    editable: F
    display: Author

last_name:
  - select: last_name
    from: author
    type: string 
    editable: T
    display: Last Name

first_name:
  - select: first_name
    from: author
    type: string 
    editable: T
    display: First Name

author_id:
  - select: author_id
    from: book
    type: int
    editable: T
    foreign_table: book_author